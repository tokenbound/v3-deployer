import { ConnectButton } from "@rainbow-me/rainbowkit";
import { Button } from "@/components/ui/button";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "@/components/ui/dialog";
import { Input } from "@/components/ui/input";

import {
  Form,
  FormControl,
  FormDescription,
  FormField,
  FormItem,
  FormLabel,
  FormMessage,
} from "@/components/ui/form";
import {
  useAccount,
  useChainId,
  usePublicClient,
  useSendTransaction,
} from "wagmi";
import { useQuery } from "@tanstack/react-query";
import { zodResolver } from "@hookform/resolvers/zod";
import { useForm } from "react-hook-form";
import { z } from "zod";

import { CircleCheck } from "lucide-react";
import { useContext } from "react";
import { ConfigContext } from "./main";

type ContractToDeploy = {
  name: string;
  address: `0x${string}`;
  testnetAddress?: `0x${string}`;
  deployTx?: { to: `0x${string}`; data: `0x${string}` };
  testnetDeployTx?: { to: `0x${string}`; data: `0x${string}` };
};

const CONTRACTS: Array<ContractToDeploy> = [
  {
    address: "0x4e59b44847b379578588920ca78fbf26c0b4956c",
    name: "Create2 Factory",
  },
  {
    name: "ERC-6551 Registry",
    address: "0x000000006551c19487814612e58FE06813775758",
    deployTx: {
      to: "0x4e59b44847b379578588920ca78fbf26c0b4956c",
      data: "0x0000000000000000000000000000000000000000fd8eb4e1dca713016c518e31608060405234801561001057600080fd5b5061023b806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063246a00211461003b5780638a54c52f1461006a575b600080fd5b61004e6100493660046101b7565b61007d565b6040516001600160a01b03909116815260200160405180910390f35b61004e6100783660046101b7565b6100e1565b600060806024608c376e5af43d82803e903d91602b57fd5bf3606c5285605d52733d60ad80600a3d3981f3363d3d373d3d3d363d7360495260ff60005360b76055206035523060601b60015284601552605560002060601b60601c60005260206000f35b600060806024608c376e5af43d82803e903d91602b57fd5bf3606c5285605d52733d60ad80600a3d3981f3363d3d373d3d3d363d7360495260ff60005360b76055206035523060601b600152846015526055600020803b61018b578560b760556000f580610157576320188a596000526004601cfd5b80606c52508284887f79f19b3655ee38b1ce526556b7731a20c8f218fbda4a3990b6cc4172fdf887226060606ca46020606cf35b8060601b60601c60005260206000f35b80356001600160a01b03811681146101b257600080fd5b919050565b600080600080600060a086880312156101cf57600080fd5b6101d88661019b565b945060208601359350604086013592506101f46060870161019b565b94979396509194608001359291505056fea2646970667358221220ea2fe53af507453c64dd7c1db05549fa47a298dfb825d6d11e1689856135f16764736f6c63430008110033",
    },
  },
  {
    name: "V3 Account Proxy",
    address: "0x55266d75D1a14E4572138116aF39863Ed6596E7F",
    deployTx: {
      to: "0x4e59b44847b379578588920ca78fbf26c0b4956c",
      data: "0x655165516551655165516551655165516551655165516551655165516551655160c060405234801561001057600080fd5b5060405161047938038061047983398101604081905261002f9161009d565b6001600160a01b038216158061004c57506001600160a01b038116155b1561006a5760405163340aafcd60e11b815260040160405180910390fd5b6001600160a01b039182166080521660a0526100d0565b80516001600160a01b038116811461009857600080fd5b919050565b600080604083850312156100b057600080fd5b6100b983610081565b91506100c760208401610081565b90509250929050565b60805160a0516103866100f36000396000606d0152600060c301526103866000f3fe6080604052600436106100225760003560e01c8063c4d66de81461003957610031565b366100315761002f610059565b005b61002f610059565b34801561004557600080fd5b5061002f6100543660046102fe565b61006b565b6100696100646101b0565b6101e8565b565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316816001600160a01b03161461014b57604051631506fd4d60e01b81526001600160a01b0382811660048301527f00000000000000000000000000000000000000000000000000000000000000001690631506fd4d90602401602060405180830381865afa15801561010a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061012e919061032e565b61014b5760405163340aafcd60e11b815260040160405180910390fd5b600061017e7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b6001600160a01b0316146101a45760405162dc149f60e41b815260040160405180910390fd5b6101ad8161020c565b50565b60006101e37f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b3660008037600080366000845af43d6000803e808015610207573d6000f35b3d6000fd5b6102158161024c565b6040516001600160a01b038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b6001600160a01b0381163b6102bd5760405162461bcd60e51b815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201526c1bdd08184818dbdb9d1c9858dd609a1b606482015260840160405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60006020828403121561031057600080fd5b81356001600160a01b038116811461032757600080fd5b9392505050565b60006020828403121561034057600080fd5b8151801515811461032757600080fdfea26469706673582212200e14e6944c0aa9246a2cf9c56026abac236e63d6d50c86664b79dfd650b8c6c064736f6c634300081100330000000000000000000000002fe5ccb0d7ea195feb87987d3573f9fcce2b5d5700000000000000000000000041c8f39463a868d3a88af00cd0fe7102f30e44ec",
    },
  },
  {
    name: "V3 Account Implementation",
    address: "0x41C8f39463A868d3A88af00cd0fe7102F30E44eC",
    deployTx: {
      to: "0x4e59b44847b379578588920ca78fbf26c0b4956c",
      data: "0x65516551655165516551655165516551655165516551655165516551655165516101406040523060a0819052610120523480156200001c57600080fd5b5060405162003c5138038062003c518339810160408190526200003f916200010b565b8383838382828181876001600160a01b0381166200007057604051632039d3c960e01b815260040160405180910390fd5b6001600160a01b0390811660805281166200009d576040516246a29560e81b815260040160405180910390fd5b6001600160a01b0390811660c05290811660e0528216620000d15760405163754c753360e11b815260040160405180910390fd5b50506001600160a01b031661010052506200016895505050505050565b80516001600160a01b03811681146200010657600080fd5b919050565b600080600080608085870312156200012257600080fd5b6200012d85620000ee565b93506200013d60208601620000ee565b92506200014d60408601620000ee565b91506200015d60608601620000ee565b905092959194509250565b60805160a05160c05160e0516101005161012051613a4c6200020560003960008181610ca701528181610cf001528181610f8f01528181610fcf0152611100015260008181611a900152611e6b015260006111a801526000818161025a01528181610a63015261243f015260008181610a84015261241e0152600081816104eb0152818161149a015281816119d901526120960152613a4c6000f3fe6080604052600436106101dc5760003560e01c8063523e326011610102578063bc197c8111610095578063dd46706411610064578063dd4670641461058f578063ee9c6054146105af578063f23a6e61146105f0578063fc0c546a14610610576101eb565b8063bc197c811461052f578063c19d93fb1461054f578063ce0617ec14610564578063d087d2881461057a576101eb565b80638da5cb5b116100d15780638da5cb5b146104b0578063a4e2d634146104c5578063b0d691fe146104dc578063b709467c1461050f576101eb565b8063523e32601461043b57806352d1902d1461045b578063572b6c05146104705780637a8f735614610490576101eb565b80631fb1ecf01161017a57806343629a731161014957806343629a73146103d557806345a24e3e146103f55780634f1ef286146104155780635194544714610428576101eb565b80631fb1ecf01461035557806334715fb1146103755780633659cfe6146103955780633a871cdd146103b5576101eb565b8063150b7a02116101b6578063150b7a02146102945780631626ba7e146102cd5780631e2eaeaf146102ed5780631f9838b51461031a576101eb565b806301ffc9a7146101f3578063039721b114610228578063056d5afe14610248576101eb565b366101eb576101e9610648565b005b6101e9610648565b3480156101ff57600080fd5b5061021361020e366004612d33565b610751565b60405190151581526020015b60405180910390f35b34801561023457600080fd5b506101e9610243366004612d92565b61077f565b34801561025457600080fd5b5061027c7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b03909116815260200161021f565b3480156102a057600080fd5b506102b46102af366004612ec7565b61096d565b6040516001600160e01b0319909116815260200161021f565b3480156102d957600080fd5b506102b46102e8366004612f73565b6109e0565b3480156102f957600080fd5b5061030c610308366004612fbe565b5490565b60405190815260200161021f565b34801561032657600080fd5b50610213610335366004612fd7565b600260209081526000928352604080842090915290825290205460ff1681565b610368610363366004613021565b610a0b565b60405161021f9190613140565b34801561038157600080fd5b5061027c610390366004613153565b610c7e565b3480156103a157600080fd5b506101e96103b0366004613199565b610c9d565b3480156103c157600080fd5b5061030c6103d03660046131b6565b610d85565b6103e86103e3366004613209565b610da4565b60405161021f919061324a565b34801561040157600080fd5b5061027c610410366004612f73565b610f3b565b6101e96104233660046132ac565b610f85565b6103686104363660046132fb565b611055565b34801561044757600080fd5b506102b461045636600461336b565b61109e565b34801561046757600080fd5b5061030c6110f3565b34801561047c57600080fd5b5061021361048b366004613199565b6111a6565b34801561049c57600080fd5b506101e96104ab366004612d92565b6111d8565b3480156104bc57600080fd5b5061027c611408565b3480156104d157600080fd5b506000544210610213565b3480156104e857600080fd5b507f000000000000000000000000000000000000000000000000000000000000000061027c565b34801561051b57600080fd5b5061036861052a3660046133a6565b61142f565b34801561053b57600080fd5b506102b461054a36600461345d565b61147a565b34801561055b57600080fd5b5060035461030c565b34801561057057600080fd5b5061030c60005481565b34801561058657600080fd5b5061030c611496565b34801561059b57600080fd5b506101e96105aa366004612fbe565b61152f565b3480156105bb57600080fd5b5061027c6105ca36600461350a565b60016020908152600092835260408084209091529082529020546001600160a01b031681565b3480156105fc57600080fd5b506102b461060b36600461353f565b611616565b34801561061c57600080fd5b50610625611632565b604080519384526001600160a01b0390921660208401529082015260600161021f565b600080600061065561164a565b9250925092506000610668848484611658565b6001600160a01b0380821660009081526001602090815260408083206001600160e01b0319843516845290915290205491925016801561074a5760006106ad30611674565b9050600080826001600160a01b031684600036336040516020016106d494939291906135a7565b60408051601f19818403018152908290526106ee916135e5565b6000604051808303816000865af19150503d806000811461072b576040519150601f19603f3d011682016040523d82523d6000602084013e610730565b606091505b50915091508161074257805160208201fd5b805160208201f35b5050505050565b60008061075d836116af565b9050801561076e5750600192915050565b6107766116d4565b50600092915050565b600080600061078c61164a565b925092509250600061079f848484611658565b90506001600160a01b0381166107c85760405163ea8e4eb560e01b815260040160405180910390fd5b336001600160a01b038216146107f15760405163ea8e4eb560e01b815260040160405180910390fd5b6107f9611787565b8685811461081a5760405163b4fa3fb360e01b815260040160405180910390fd5b60005b818110156109615787878281811061083757610837613601565b905060200201602081019061084c9190613625565b6001600160a01b0384166000908152600260205260408120908c8c8581811061087757610877613601565b905060200201602081019061088c9190613199565b6001600160a01b031681526020810191909152604001600020805460ff19169115159190911790557f394777a58092892d136a90c4bb7e4350c72ac50fba6a0208128677f36527dcf5838b8b848181106108e8576108e8613601565b90506020020160208101906108fd9190613199565b8a8a8581811061090f5761090f613601565b90506020020160208101906109249190613625565b604080516001600160a01b03948516815293909216602084015215159082015260600160405180910390a18061095981613658565b91505061081d565b50505050505050505050565b60008060008061097b61164a565b91945092509050336001600160a01b03831614801561099957508086145b80156109a457504683145b156109c25760405163b79e3f3f60e01b815260040160405180910390fd5b6109ca610648565b50630a85bd0160e11b925050505b949350505050565b60006109ed8484846117b4565b15610a005750630b135d3f60e11b610a04565b5060005b9392505050565b6060816000610a18611941565b90503660005b83811015610c3357868682818110610a3857610a38613601565b90506060020191506000826020016020810190610a559190613199565b905060408301356000610aad7f00000000000000000000000000000000000000000000000000000000000000007f0000000000000000000000000000000000000000000000000000000000000000873546878761194b565b9050826001600160a01b03163b600003610ada57604051631052dd2560e21b815260040160405180910390fd5b6001600160a01b0381163b15610b6a57806001600160a01b031663a4e2d6346040518163ffffffff1660e01b8152600401602060405180830381865afa158015610b28573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b4c9190613671565b15610b6a57604051636315bfbb60e01b815260040160405180910390fd5b6040516331a9108f60e11b8152600481018390526001600160a01b03841690636352211e90602401602060405180830381865afa925050508015610bcb575060408051601f3d908101601f19168201909252610bc89181019061368e565b60015b610be857604051631052dd2560e21b815260040160405180910390fd5b866001600160a01b0316816001600160a01b031614610c1a57604051631052dd2560e21b815260040160405180910390fd5b509450829150610c2b905081613658565b915050610a1e565b50610c3d826119d5565b610c5a5760405163ea8e4eb560e01b815260040160405180910390fd5b610c62611787565b610c6f8b8b8b8b8b611bbd565b9b9a5050505050505050505050565b6000610c88611d99565b610c9485858585611dd3565b95945050505050565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610cee5760405162461bcd60e51b8152600401610ce5906136ab565b60405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316610d376000805160206139d0833981519152546001600160a01b031690565b6001600160a01b031614610d5d5760405162461bcd60e51b8152600401610ce5906136f7565b610d6681611e4c565b60408051600080825260208201909252610d8291839190611f1b565b50565b6000610d8f61208b565b610d998484612103565b9050610a048261213b565b6060610db6610db1611941565b6119d5565b610dd35760405163ea8e4eb560e01b815260040160405180910390fd5b610ddb611787565b816000816001600160401b03811115610df657610df6612e12565b604051908082528060200260200182016040528015610e2957816020015b6060815260200190600190039081610e145790505b50905060005b82811015610f3057610f00868683818110610e4c57610e4c613601565b9050602002810190610e5e9190613743565b610e6c906020810190613199565b878784818110610e7e57610e7e613601565b9050602002810190610e909190613743565b60200135888885818110610ea657610ea6613601565b9050602002810190610eb89190613743565b610ec6906040810190613759565b8a8a87818110610ed857610ed8613601565b9050602002810190610eea9190613743565b610efb90608081019060600161379f565b611bbd565b828281518110610f1257610f12613601565b60200260200101819052508080610f2890613658565b915050610e2f565b509150505b92915050565b6000610f45611d99565b6109d88484848080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061218892505050565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163003610fcd5760405162461bcd60e51b8152600401610ce5906136ab565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166110166000805160206139d0833981519152546001600160a01b031690565b6001600160a01b03161461103c5760405162461bcd60e51b8152600401610ce5906136f7565b61104582611e4c565b61105182826001611f1b565b5050565b6060611062610db1611941565b61107f5760405163ea8e4eb560e01b815260040160405180910390fd5b611087611787565b6110948686868686611bbd565b9695505050505050565b60006110e08484848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506121c592505050565b15610a005750630291f19360e51b610a04565b6000306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146111935760405162461bcd60e51b815260206004820152603860248201527f555550535570677261646561626c653a206d757374206e6f742062652063616c60448201527f6c6564207468726f7567682064656c656761746563616c6c00000000000000006064820152608401610ce5565b506000805160206139d083398151915290565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0390811691161490565b60008060006111e561164a565b92509250925060006111f8848484611658565b90506001600160a01b0381166112215760405163ea8e4eb560e01b815260040160405180910390fd5b336001600160a01b0382161461124a5760405163ea8e4eb560e01b815260040160405180910390fd5b611252611787565b600061125d30611674565b9050806001600160a01b03163b60000361127a5761127a30612273565b8786811461129b5760405163b4fa3fb360e01b815260040160405180910390fd5b60005b818110156113fb578888828181106112b8576112b8613601565b90506020020160208101906112cd9190613199565b6001600160a01b0385166000908152600160205260408120908d8d858181106112f8576112f8613601565b905060200201602081019061130d9190612d33565b6001600160e01b0319168152602081019190915260400160002080546001600160a01b0319166001600160a01b03929092169190911790557f2c722487e90aca38ec1b074c3403210bd2bfb769b4da7f12f7bf0b9e37517c18848c8c8481811061137957611379613601565b905060200201602081019061138e9190612d33565b8b8b858181106113a0576113a0613601565b90506020020160208101906113b59190613199565b604080516001600160a01b0394851681526001600160e01b031993909316602084015292168183015290519081900360600190a1806113f381613658565b91505061129e565b5050505050505050505050565b60008060008061141661164a565b9250925092506114278383836122a7565b935050505090565b6060611439611d99565b610c94858585858080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061234692505050565b6000611484610648565b5063bc197c8160e01b95945050505050565b60007f0000000000000000000000000000000000000000000000000000000000000000604051631aab3f0d60e11b8152306004820152600060248201526001600160a01b0391909116906335567e1a90604401602060405180830381865afa158015611506573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061152a91906137ba565b905090565b600080600061153c61164a565b925092509250600061154f848484611658565b90506001600160a01b0381166115785760405163ea8e4eb560e01b815260040160405180910390fd5b336001600160a01b038216146115a15760405163ea8e4eb560e01b815260040160405180910390fd5b6115af426301e133806137d3565b8511156115cf576040516301814f7d60e31b815260040160405180910390fd5b6115d7611787565b60008590556040518581527fa7b24c66dd3269a292a60b3facdbb8f3e7557d1e19e64d99e0d6ee7250be63ad9060200160405180910390a15050505050565b6000611620610648565b5063f23a6e6160e01b95945050505050565b600080600061163f61164a565b925092509250909192565b600080600061163f306123bf565b6000806116668585856122a7565b9050610c9481868686612414565b6000610f357f97f795a08410e77dc9dbbaba3915f17c601e45642518dd578bd440d8775bfee46116a3846124e3565b8051906020012061254e565b60006001600160e01b03198216635194544760e01b1480610f355750610f358261255b565b60008060006116e161164a565b92509250925060006116f4848484611658565b6001600160a01b0380821660009081526001602090815260408083206001600160e01b0319843516845290915290205491925016801561074a57600080826001600160a01b031660003660405161174c9291906137e6565b600060405180830381855afa9150503d806000811461072b576040519150601f19603f3d011682016040523d82523d6000602084013e610730565b6000544210156117aa57604051636315bfbb60e01b815260040160405180910390fd5b6117b2612580565b565b600080838360408181106117ca576117ca613601565b919091013560f81c9150600090508181036118b1576117ed6020600086886137f6565b6117f691613820565b60001c905061181481604051806020016040528060008152506121c5565b15801561182a57506001600160a01b0381163014155b1561183a57600092505050610a04565b366000868661184d6040602083856137f6565b61185691613820565b6118619282906137f6565b915091506118a6838984848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506125ba92505050565b945050505050610a04565b60006118f38787878080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506126a692505050565b9092509050600081600481111561190c5761190c61383e565b1461191d5760009350505050610a04565b61193682604051806020016040528060008152506121c5565b979650505050505050565b600061152a6126eb565b6040805160b78082018490526001600160a01b038516609783015260778201869052605782018790526e5af43d82803e903d91602b57fd5bf3603783015260288201889052733d60ad80600a3d3981f3363d3d373d3d3d363d736014830152815260d7810190915280516020909101206000906119c986828a61271a565b98975050505050505050565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316826001600160a01b031603611a1857506001919050565b6000806000611a2561164a565b925092509250468314611b0b5730611a58611a3e611941565b731111000000000000000000000000000000001110190190565b6001600160a01b031603611a7157506001949350505050565b6040516333932be560e11b81526001600160a01b0386811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063672657ca90602401602060405180830381865afa158015611ad7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611afb9190613671565b15611b0b57506001949350505050565b6000611b188484846122a7565b9050806001600160a01b0316866001600160a01b031603611b3f5750600195945050505050565b6000611b4d82868686612414565b9050806001600160a01b0316876001600160a01b031603611b75575060019695505050505050565b6001600160a01b038082166000908152600260209081526040808320938b168352929052205460ff1615611bb0575060019695505050505050565b5060009695505050505050565b606060ff8216611c0f57611c08868686868080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061234692505050565b9050610c94565b60001960ff831601611c79576000611c2630611674565b9050806001600160a01b03163b600003611c4357611c4330612273565b611c718187898888604051602001611c5d93929190613854565b604051602081830303815290604052612346565b915050610c94565b60011960ff831601611cfe57611cc58585858080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525061218892505050565b604051602001611ce8919060609190911b6001600160601b031916815260140190565b6040516020818303038152906040529050610c94565b60021960ff831601611d80576000611d1960208286886137f6565b611d2291613820565b9050366000611d34866020818a6137f6565b91509150611d4488848484611dd3565b604051602001611d67919060609190911b6001600160601b031916815260140190565b6040516020818303038152906040529350505050610c94565b604051631cc6a69960e11b815260040160405180910390fd5b611da230611674565b6001600160a01b0316336001600160a01b0316146117b25760405163ea8e4eb560e01b815260040160405180910390fd5b60008083838080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050825192935087929150506020830188f591506001600160a01b038216611e435760405163a28c247360e01b815260040160405180910390fd5b50949350505050565b604051631506fd4d60e01b81526001600160a01b0382811660048301527f00000000000000000000000000000000000000000000000000000000000000001690631506fd4d90602401602060405180830381865afa158015611eb2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ed69190613671565b611ef35760405163340aafcd60e11b815260040160405180910390fd5b611efe610db1611941565b610d825760405163ea8e4eb560e01b815260040160405180910390fd5b7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd91435460ff1615611f5357611f4e83612744565b505050565b826001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015611fad575060408051601f3d908101601f19168201909252611faa918101906137ba565b60015b6120105760405162461bcd60e51b815260206004820152602e60248201527f45524331393637557067726164653a206e657720696d706c656d656e7461746960448201526d6f6e206973206e6f74205555505360901b6064820152608401610ce5565b6000805160206139d0833981519152811461207f5760405162461bcd60e51b815260206004820152602960248201527f45524331393637557067726164653a20756e737570706f727465642070726f786044820152681a58589b195555525160ba1b6064820152608401610ce5565b50611f4e8383836127e0565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146117b25760405162461bcd60e51b815260206004820152601c60248201527f6163636f756e743a206e6f742066726f6d20456e747279506f696e74000000006044820152606401610ce5565b6000612125612112848461280b565b612120610140860186613759565b6117b4565b1561213257506000610f35565b50600192915050565b8015610d8257604051600090339060001990849084818181858888f193505050503d806000811461074a576040519150601f19603f3d011682016040523d82523d6000602084013e61074a565b805160009082906020820185f091506001600160a01b0382166121be5760405163a28c247360e01b815260040160405180910390fd5b5092915050565b6000806000806121d361164a565b92509250925060006121e68484846122a7565b9050806001600160a01b0316876001600160a01b03160361220e576001945050505050610f35565b600061221c82868686612414565b9050806001600160a01b0316886001600160a01b03160361224557600195505050505050610f35565b6001600160a01b038082166000908152600260209081526040808320938c168352929052205460ff166119c9565b61105160007f97f795a08410e77dc9dbbaba3915f17c601e45642518dd578bd440d8775bfee46122a2846124e3565b61283f565b60004684146122b857506000610a04565b826001600160a01b03163b6000036122d257506000610a04565b6040516331a9108f60e11b8152600481018390526001600160a01b03841690636352211e90602401602060405180830381865afa925050508015612333575060408051601f3d908101601f191682019092526123309181019061368e565b60015b61233f57506000610a04565b9050610a04565b60606000846001600160a01b0316848460405161236391906135e5565b60006040518083038185875af1925050503d80600081146123a0576040519150601f19603f3d011682016040523d82523d6000602084013e6123a5565b606091505b5092509050806123b757815160208301fd5b509392505050565b60408051606080825260808201909252600091829182918291906020820181803683370190505090506060604d60208301873c808060200190518101906124069190613880565b935093509350509193909250565b6000845b612463817f00000000000000000000000000000000000000000000000000000000000000007f0000000000000000000000000000000000000000000000000000000000000000612943565b15610c9457806001600160a01b031663fc0c546a6040518163ffffffff1660e01b8152600401606060405180830381865afa1580156124a6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124ca9190613880565b919650945092506124dc8585856122a7565b9050612418565b60606040518060400160405280600e81526020016d604380600d600039806000f3fe7360901b815250826040518060600160405280602e81526020016139a2602e9139604051602001612538939291906138b9565b6040516020818303038152906040529050919050565b6000610a0483833061271a565b60006001600160e01b03198216636faff5f160e01b1480610f355750610f35826129f2565b60035461258b612a27565b60405160200161259d93929190613900565b60408051601f198184030181529190528051602090910120600355565b6000806000856001600160a01b0316631626ba7e60e01b86866040516024016125e4929190613936565b60408051601f198184030181529181526020820180516001600160e01b03166001600160e01b031990941693909317909252905161262291906135e5565b600060405180830381855afa9150503d806000811461265d576040519150601f19603f3d011682016040523d82523d6000602084013e612662565b606091505b509150915081801561267657506020815110155b801561109457508051630b135d3f60e11b9061269b90830160209081019084016137ba565b149695505050505050565b60008082516041036126dc5760208301516040840151606085015160001a6126d087828585612a3a565b945094505050506126e4565b506000905060025b9250929050565b60006126f6336111a6565b8015612703575060143610155b15612715575060131936013560601c90565b503390565b6000604051836040820152846020820152828152600b8101905060ff815360559020949350505050565b6001600160a01b0381163b6127b15760405162461bcd60e51b815260206004820152602d60248201527f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60448201526c1bdd08184818dbdb9d1c9858dd609a1b6064820152608401610ce5565b6000805160206139d083398151915280546001600160a01b0319166001600160a01b0392909216919091179055565b6127e983612afe565b6000825111806127f65750805b15611f4e576128058383612b3e565b50505050565b7f19457468657265756d205369676e6564204d6573736167653a0a3332000000006000908152601c829052603c8120610a04565b6000834710156128915760405162461bcd60e51b815260206004820152601d60248201527f437265617465323a20696e73756666696369656e742062616c616e63650000006044820152606401610ce5565b81516000036128e25760405162461bcd60e51b815260206004820181905260248201527f437265617465323a2062797465636f6465206c656e677468206973207a65726f6044820152606401610ce5565b8282516020840186f590506001600160a01b038116610a045760405162461bcd60e51b815260206004820152601960248201527f437265617465323a204661696c6564206f6e206465706c6f79000000000000006044820152606401610ce5565b6000836001600160a01b03163b60ad1461295f57506000610a04565b600061296a85612b63565b9050806001600160a01b03163b600003612988576000915050610a04565b836001600160a01b0316816001600160a01b0316146129ab576000915050610a04565b6000806000806129ba89612b75565b93509350935093506129d087868686868661194b565b6001600160a01b0316896001600160a01b031614955050505050509392505050565b60006001600160e01b03198216630271189760e51b1480610f3557506301ffc9a760e01b6001600160e01b0319831614610f35565b366000612a32612bcd565b915091509091565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0831115612a715750600090506003612af5565b6040805160008082526020820180845289905260ff881692820192909252606081018690526080810185905260019060a0016020604051602081039080840390855afa158015612ac5573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b038116612aee57600060019250925050612af5565b9150600090505b94509492505050565b612b0781612744565b6040516001600160a01b038216907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a250565b6060610a0483836040518060600160405280602781526020016139f060279139612c0f565b60006014600a600c843c505060005190565b60408051608080825260a0820190925260009182918291829182916020820181803683370190505090506080602d60208301883c80806020019051810190612bbd919061394f565b9450945094509450509193509193565b366000612bd9336111a6565b8015612be6575060143610155b15612c075760008036612bfa60148261398e565b92612a32939291906137f6565b600036612a32565b6060600080856001600160a01b031685604051612c2c91906135e5565b600060405180830381855af49150503d8060008114612c67576040519150601f19603f3d011682016040523d82523d6000602084013e612c6c565b606091505b50915091506110948683838760608315612ce7578251600003612ce0576001600160a01b0385163b612ce05760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610ce5565b50816109d8565b6109d88383815115612cfc5781518083602001fd5b8060405162461bcd60e51b8152600401610ce59190613140565b80356001600160e01b031981168114612d2e57600080fd5b919050565b600060208284031215612d4557600080fd5b610a0482612d16565b60008083601f840112612d6057600080fd5b5081356001600160401b03811115612d7757600080fd5b6020830191508360208260051b85010111156126e457600080fd5b60008060008060408587031215612da857600080fd5b84356001600160401b0380821115612dbf57600080fd5b612dcb88838901612d4e565b90965094506020870135915080821115612de457600080fd5b50612df187828801612d4e565b95989497509550505050565b6001600160a01b0381168114610d8257600080fd5b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f191681016001600160401b0381118282101715612e5057612e50612e12565b604052919050565b600082601f830112612e6957600080fd5b81356001600160401b03811115612e8257612e82612e12565b612e95601f8201601f1916602001612e28565b818152846020838601011115612eaa57600080fd5b816020850160208301376000918101602001919091529392505050565b60008060008060808587031215612edd57600080fd5b8435612ee881612dfd565b93506020850135612ef881612dfd565b92506040850135915060608501356001600160401b03811115612f1a57600080fd5b612f2687828801612e58565b91505092959194509250565b60008083601f840112612f4457600080fd5b5081356001600160401b03811115612f5b57600080fd5b6020830191508360208285010111156126e457600080fd5b600080600060408486031215612f8857600080fd5b8335925060208401356001600160401b03811115612fa557600080fd5b612fb186828701612f32565b9497909650939450505050565b600060208284031215612fd057600080fd5b5035919050565b60008060408385031215612fea57600080fd5b8235612ff581612dfd565b9150602083013561300581612dfd565b809150509250929050565b803560ff81168114612d2e57600080fd5b600080600080600080600060a0888a03121561303c57600080fd5b873561304781612dfd565b96506020880135955060408801356001600160401b038082111561306a57600080fd5b6130768b838c01612f32565b909750955085915061308a60608b01613010565b945060808a01359150808211156130a057600080fd5b818a0191508a601f8301126130b457600080fd5b8135818111156130c357600080fd5b8b60206060830285010111156130d857600080fd5b60208301945080935050505092959891949750929550565b60005b8381101561310b5781810151838201526020016130f3565b50506000910152565b6000815180845261312c8160208601602086016130f0565b601f01601f19169290920160200192915050565b602081526000610a046020830184613114565b6000806000806060858703121561316957600080fd5b843593506020850135925060408501356001600160401b0381111561318d57600080fd5b612df187828801612f32565b6000602082840312156131ab57600080fd5b8135610a0481612dfd565b6000806000606084860312156131cb57600080fd5b83356001600160401b038111156131e157600080fd5b840161016081870312156131f457600080fd5b95602085013595506040909401359392505050565b6000806020838503121561321c57600080fd5b82356001600160401b0381111561323257600080fd5b61323e85828601612d4e565b90969095509350505050565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b8281101561329f57603f1988860301845261328d858351613114565b94509285019290850190600101613271565b5092979650505050505050565b600080604083850312156132bf57600080fd5b82356132ca81612dfd565b915060208301356001600160401b038111156132e557600080fd5b6132f185828601612e58565b9150509250929050565b60008060008060006080868803121561331357600080fd5b853561331e81612dfd565b94506020860135935060408601356001600160401b0381111561334057600080fd5b61334c88828901612f32565b909450925061335f905060608701613010565b90509295509295909350565b60008060006040848603121561338057600080fd5b833561338b81612dfd565b925060208401356001600160401b03811115612fa557600080fd5b600080600080606085870312156133bc57600080fd5b84356133c781612dfd565b93506020850135925060408501356001600160401b0381111561318d57600080fd5b600082601f8301126133fa57600080fd5b813560206001600160401b0382111561341557613415612e12565b8160051b613424828201612e28565b928352848101820192828101908785111561343e57600080fd5b83870192505b8483101561193657823582529183019190830190613444565b600080600080600060a0868803121561347557600080fd5b853561348081612dfd565b9450602086013561349081612dfd565b935060408601356001600160401b03808211156134ac57600080fd5b6134b889838a016133e9565b945060608801359150808211156134ce57600080fd5b6134da89838a016133e9565b935060808801359150808211156134f057600080fd5b506134fd88828901612e58565b9150509295509295909350565b6000806040838503121561351d57600080fd5b823561352881612dfd565b915061353660208401612d16565b90509250929050565b600080600080600060a0868803121561355757600080fd5b853561356281612dfd565b9450602086013561357281612dfd565b9350604086013592506060860135915060808601356001600160401b0381111561359b57600080fd5b6134fd88828901612e58565b60006bffffffffffffffffffffffff19808760601b16835284866014850137848301818560601b166014820152602881019250505095945050505050565b600082516135f78184602087016130f0565b9190910192915050565b634e487b7160e01b600052603260045260246000fd5b8015158114610d8257600080fd5b60006020828403121561363757600080fd5b8135610a0481613617565b634e487b7160e01b600052601160045260246000fd5b60006001820161366a5761366a613642565b5060010190565b60006020828403121561368357600080fd5b8151610a0481613617565b6000602082840312156136a057600080fd5b8151610a0481612dfd565b6020808252602c908201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060408201526b19195b1959d85d1958d85b1b60a21b606082015260800190565b6020808252602c908201527f46756e6374696f6e206d7573742062652063616c6c6564207468726f7567682060408201526b6163746976652070726f787960a01b606082015260800190565b60008235607e198336030181126135f757600080fd5b6000808335601e1984360301811261377057600080fd5b8301803591506001600160401b0382111561378a57600080fd5b6020019150368190038213156126e457600080fd5b6000602082840312156137b157600080fd5b610a0482613010565b6000602082840312156137cc57600080fd5b5051919050565b80820180821115610f3557610f35613642565b8183823760009101908152919050565b6000808585111561380657600080fd5b8386111561381357600080fd5b5050820193919092039150565b80356020831015610f3557600019602084900360031b1b1692915050565b634e487b7160e01b600052602160045260246000fd5b6bffffffffffffffffffffffff198460601b168152818360148301376000910160140190815292915050565b60008060006060848603121561389557600080fd5b8351925060208401516138a781612dfd565b80925050604084015190509250925092565b600084516138cb8184602089016130f0565b606085901b6001600160601b03191690830190815283516138f38160148401602088016130f0565b0160140195945050505050565b83815260406020820152816040820152818360608301376000818301606090810191909152601f909201601f1916010192915050565b8281526040602082015260006109d86040830184613114565b6000806000806080858703121561396557600080fd5b8451935060208501519250604085015161397e81612dfd565b6060959095015193969295505050565b81810381811115610f3557610f3561364256fe3314601d573d3dfd5b363d3d373d3d6014360360143d5160601c5af43d6000803e80603e573d6000fd5b3d6000f3360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220622e8fd59d5b1eb899f493e88d5ea40e561702143ac983ecc5c3e4ecaa8a4f2864736f6c634300081100330000000000000000000000005ff137d4b0fdcd49dca30c7cf57e578a026d2789000000000000000000000000ca1167915584462449ee5b4ea51c37fe81ecdccd000000000000000000000000000000006551c19487814612e58fe068137757580000000000000000000000002fe5ccb0d7ea195feb87987d3573f9fcce2b5d57",
    },
  },
  {
    name: "V3 Account Guardian",
    address: "0x2FE5ccb0d7Ea195FEb87987d3573F9fcCE2b5D57",
    deployTx: {
      to: "0x4e59b44847b379578588920ca78fbf26c0b4956c",
      data: "0x6551655165516551655165516551655165516551655165516551655165516551608060405234801561001057600080fd5b506040516105b83803806105b883398101604081905261002f916100be565b61003833610047565b61004181610047565b506100ee565b600180546001600160a01b031916905561006b8161006e602090811b61034817901c565b50565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000602082840312156100d057600080fd5b81516001600160a01b03811681146100e757600080fd5b9392505050565b6104bb806100fd6000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c806379ba50971161006657806379ba5097146101105780638da5cb5b146101185780639472c8c91461013d578063e30c397814610150578063f2fde38b1461016157600080fd5b80631506fd4d14610098578063483c088e146100d0578063672657ca146100e5578063715018a614610108575b600080fd5b6100bb6100a6366004610427565b60026020526000908152604090205460ff1681565b60405190151581526020015b60405180910390f35b6100e36100de366004610449565b610174565b005b6100bb6100f3366004610427565b60036020526000908152604090205460ff1681565b6100e36101e0565b6100e36101f4565b6000546001600160a01b03165b6040516001600160a01b0390911681526020016100c7565b6100e361014b366004610449565b610273565b6001546001600160a01b0316610125565b6100e361016f366004610427565b6102d7565b61017c610398565b6001600160a01b038216600081815260026020908152604091829020805460ff19168515159081179091558251938452908301527fd83c86b130b16028e237253bca8d22285f6de074a58017e569658653ed5bc36f91015b60405180910390a15050565b6101e8610398565b6101f260006103f2565b565b60015433906001600160a01b031681146102675760405162461bcd60e51b815260206004820152602960248201527f4f776e61626c6532537465703a2063616c6c6572206973206e6f7420746865206044820152683732bb9037bbb732b960b91b60648201526084015b60405180910390fd5b610270816103f2565b50565b61027b610398565b6001600160a01b038216600081815260036020908152604091829020805460ff19168515159081179091558251938452908301527f373e917f5345a453dc2334dfe07f6cdd8576bda4f79c0e323b3827b419ebaf4091016101d4565b6102df610398565b600180546001600160a01b0383166001600160a01b031990911681179091556103106000546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000546001600160a01b031633146101f25760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640161025e565b600180546001600160a01b031916905561027081610348565b80356001600160a01b038116811461042257600080fd5b919050565b60006020828403121561043957600080fd5b6104428261040b565b9392505050565b6000806040838503121561045c57600080fd5b6104658361040b565b91506020830135801515811461047a57600080fd5b80915050925092905056fea264697066735822122089854313fd108f2f7d2e46dcecf033b7ea53d372718fc8f6cc32156afec1987064736f6c63430008110033000000000000000000000000781b6a527482828bb04f33563797d4b696ddf328",
    },
  },
  {
    name: "Authenticated Multicall",
    address: "0xcA1167915584462449EE5b4Ea51c37fE81eCDCCD",
    deployTx: {
      to: "0x4e59b44847b379578588920ca78fbf26c0b4956c",
      data: "0xb55ea26cbfd6aca73cc025cca742344525bdf89b36b683d2b83cfb14f1acb77a608060405234801561001057600080fd5b5061101e806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e1461025a578063bce38bd714610275578063c3077fa914610288578063ee82ac5e1461029b57600080fd5b80634d2301cc146101ec57806372425d9d1461022157806382ad56cb1461023457806386d516e81461024757600080fd5b80633408e470116100c65780633408e47014610191578063399542e9146101a45780633e64a696146101c657806342cbb15c146101d957600080fd5b80630f28c97d146100f8578063174dea711461011a578063252dba421461013a57806327e86d6e1461015b575b600080fd5b34801561010457600080fd5b50425b6040519081526020015b60405180910390f35b61012d610128366004610b79565b6102ba565b6040516101119190610cc1565b61014d610148366004610b79565b61052c565b604051610111929190610cdb565b34801561016757600080fd5b50437fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0140610107565b34801561019d57600080fd5b5046610107565b6101b76101b2366004610d63565b61070a565b60405161011193929190610dbd565b3480156101d257600080fd5b5048610107565b3480156101e557600080fd5b5043610107565b3480156101f857600080fd5b50610107610207366004610de5565b73ffffffffffffffffffffffffffffffffffffffff163190565b34801561022d57600080fd5b5044610107565b61012d610242366004610b79565b610725565b34801561025357600080fd5b5045610107565b34801561026657600080fd5b50604051418152602001610111565b61012d610283366004610d63565b610911565b6101b7610296366004610b79565b610b0e565b3480156102a757600080fd5b506101076102b6366004610e1b565b4090565b60606000828067ffffffffffffffff8111156102d8576102d8610e34565b60405190808252806020026020018201604052801561031e57816020015b6040805180820190915260008152606060208201528152602001906001900390816102f65790505b5092503660005b828110156104b457600085828151811061034157610341610e63565b6020026020010151905087878381811061035d5761035d610e63565b905060200281019061036f9190610e92565b6040810135958601959093506103886020850185610de5565b73ffffffffffffffffffffffffffffffffffffffff16816103ac6060870187610ed0565b336040516020016103bf93929190610f35565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0818403018152908290526103f791610f6e565b60006040518083038185875af1925050503d8060008114610434576040519150601f19603f3d011682016040523d82523d6000602084013e610439565b606091505b5060208085019190915290151580845290850135176104aa577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b5050600101610325565b50823414610523576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f4d756c746963616c6c333a2076616c7565206d69736d6174636800000000000060448201526064015b60405180910390fd5b50505092915050565b436060828067ffffffffffffffff81111561054957610549610e34565b60405190808252806020026020018201604052801561057c57816020015b60608152602001906001900390816105675790505b5091503660005b8281101561070057600087878381811061059f5761059f610e63565b90506020028101906105b19190610f80565b92506105c06020840184610de5565b73ffffffffffffffffffffffffffffffffffffffff166105e36020850185610ed0565b336040516020016105f693929190610f35565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529082905261062e91610f6e565b6000604051808303816000865af19150503d806000811461066b576040519150601f19603f3d011682016040523d82523d6000602084013e610670565b606091505b5086848151811061068357610683610e63565b60209081029190910101529050806106f7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000604482015260640161051a565b50600101610583565b5050509250929050565b438040606061071a868686610911565b905093509350939050565b6060818067ffffffffffffffff81111561074157610741610e34565b60405190808252806020026020018201604052801561078757816020015b60408051808201909152600081526060602082015281526020019060019003908161075f5790505b5091503660005b828110156105235760008482815181106107aa576107aa610e63565b602002602001015190508686838181106107c6576107c6610e63565b90506020028101906107d89190610fb4565b92506107e76020840184610de5565b73ffffffffffffffffffffffffffffffffffffffff1661080a6040850185610ed0565b3360405160200161081d93929190610f35565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529082905261085591610f6e565b6000604051808303816000865af19150503d8060008114610892576040519150601f19603f3d011682016040523d82523d6000602084013e610897565b606091505b506020808401919091529015158083529084013517610908577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b5060010161078e565b6060818067ffffffffffffffff81111561092d5761092d610e34565b60405190808252806020026020018201604052801561097357816020015b60408051808201909152600081526060602082015281526020019060019003908161094b5790505b5091503660005b82811015610b0457600084828151811061099657610996610e63565b602002602001015190508686838181106109b2576109b2610e63565b90506020028101906109c49190610f80565b92506109d36020840184610de5565b73ffffffffffffffffffffffffffffffffffffffff166109f66020850185610ed0565b33604051602001610a0993929190610f35565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081840301815290829052610a4191610f6e565b6000604051808303816000865af19150503d8060008114610a7e576040519150601f19603f3d011682016040523d82523d6000602084013e610a83565b606091505b506020830152151581528715610afb578051610afb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601760248201527f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000604482015260640161051a565b5060010161097a565b5050509392505050565b6000806060610b1f6001868661070a565b919790965090945092505050565b60008083601f840112610b3f57600080fd5b50813567ffffffffffffffff811115610b5757600080fd5b6020830191508360208260051b8501011115610b7257600080fd5b9250929050565b60008060208385031215610b8c57600080fd5b823567ffffffffffffffff811115610ba357600080fd5b610baf85828601610b2d565b90969095509350505050565b60005b83811015610bd6578181015183820152602001610bbe565b83811115610be5576000848401525b50505050565b60008151808452610c03816020860160208601610bbb565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b600082825180855260208086019550808260051b84010181860160005b84811015610cb4578583037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe001895281518051151584528401516040858501819052610ca081860183610beb565b9a86019a9450505090830190600101610c52565b5090979650505050505050565b602081526000610cd46020830184610c35565b9392505050565b600060408201848352602060408185015281855180845260608601915060608160051b870101935082870160005b82811015610d55577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa0888703018452610d43868351610beb565b95509284019290840190600101610d09565b509398975050505050505050565b600080600060408486031215610d7857600080fd5b83358015158114610d8857600080fd5b9250602084013567ffffffffffffffff811115610da457600080fd5b610db086828701610b2d565b9497909650939450505050565b838152826020820152606060408201526000610ddc6060830184610c35565b95945050505050565b600060208284031215610df757600080fd5b813573ffffffffffffffffffffffffffffffffffffffff81168114610cd457600080fd5b600060208284031215610e2d57600080fd5b5035919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600082357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81833603018112610ec657600080fd5b9190910192915050565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112610f0557600080fd5b83018035915067ffffffffffffffff821115610f2057600080fd5b602001915036819003821315610b7257600080fd5b8284823760609190911b7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000169101908152601401919050565b60008251610ec6818460208701610bbb565b600082357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1833603018112610ec657600080fd5b600082357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa1833603018112610ec657600080fdfea26469706673582212207af11655fef9d118322d491102edee0e0b4d695186dc5647da13f55c81ae70e464736f6c634300080c0033",
    },
  },
  {
    name: "LayerZero V2 Executor",
    address: "0x0F220412Bf22E05EBcC5070D60fd7136A08aF22C",
    testnetAddress: "0xEF7B07Db21d449C50b00De4563FfFe4C9dd33f1f",
    deployTx: {
      to: "0x4e59b44847b379578588920ca78fbf26c0b4956c",
      data: "0x655165516551655165516551655165516551655165516551655165516551655160a06040526101f46002553480156200001757600080fd5b50604051620017f2380380620017f28339810160408190526200003a9162000162565b818181816200004933620000f5565b6001600160a01b0380831660805281166200007757604051632d618d8160e21b815260040160405180910390fd5b60805160405163ca5eb5e160e01b81526001600160a01b0383811660048301529091169063ca5eb5e190602401600060405180830381600087803b158015620000bf57600080fd5b505af1158015620000d4573d6000803e3d6000fd5b5050505050505050620000ed81620000f560201b60201c565b50506200019a565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80516001600160a01b03811681146200015d57600080fd5b919050565b600080604083850312156200017657600080fd5b620001818362000145565b9150620001916020840162000145565b90509250929050565b608051611612620001e060003960008181610194015281816103740152818161064d015281816109ac01528181610aac01528181610bcd0152610c8601526116126000f3fe6080604052600436106100fe5760003560e01c80638da5cb5b11610095578063bf20df4211610064578063bf20df42146102cf578063ca5eb5e1146102e2578063f2fde38b14610302578063f3fef3a314610322578063ff7bd03d1461034257600080fd5b80638da5cb5b1461023c578063995f12921461025a578063b92d0eff1461028f578063bb0b6a53146102a257600080fd5b80635e280f11116100d15780635e280f111461018257806369fe0e2d146101ce578063715018a6146101ee5780637d25a05e1461020357600080fd5b806313137d651461010357806317442b701461011857806324a9d8531461013e5780633400288b14610162575b600080fd5b610116610111366004610fae565b610372565b005b34801561012457600080fd5b506040805160018082526020820152015b60405180910390f35b34801561014a57600080fd5b5061015460025481565b604051908152602001610135565b34801561016e57600080fd5b5061011661017d366004611067565b610432565b34801561018e57600080fd5b506101b67f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610135565b3480156101da57600080fd5b506101166101e9366004611091565b61048f565b3480156101fa57600080fd5b5061011661049c565b34801561020f57600080fd5b5061022361021e366004611067565b6104b0565b60405167ffffffffffffffff9091168152602001610135565b34801561024857600080fd5b506000546001600160a01b03166101b6565b34801561026657600080fd5b5061027a6102753660046110aa565b6104b9565b60408051928352602083019190915201610135565b34801561029b57600080fd5b50306101b6565b3480156102ae57600080fd5b506101546102bd36600461113d565b60016020526000908152604090205481565b6101166102dd36600461115f565b610558565b3480156102ee57600080fd5b506101166102fd3660046111e0565b610626565b34801561030e57600080fd5b5061011661031d3660046111e0565b6106ac565b34801561032e57600080fd5b5061011661033d3660046111fd565b610725565b34801561034e57600080fd5b5061036261035d36600461121b565b6107a6565b6040519015158152602001610135565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146103c2576040516391ac5e4f60e01b81523360048201526024015b60405180910390fd5b602087018035906103dc906103d7908a61113d565b6107f6565b1461041a576103ee602088018861113d565b60405163309afaf360e21b815263ffffffff9091166004820152602088013560248201526044016103b9565b61042987878787878787610830565b50505050505050565b61043a6108bd565b63ffffffff8216600081815260016020908152604091829020849055815192835282018390527f238399d427b947898edb290f5ff0f9109849b1c3ba196a42e35f00c50a54b98b910160405180910390a15050565b6104976108bd565b600255565b6104a46108bd565b6104ae6000610917565b565b60005b92915050565b60008060006104c9888888610967565b9050600061050e8a8388888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509250610996915050565b905060006127106002548360000151610527919061124d565b6105319190611264565b8251909150610541908290611286565b826020015194509450505050965096945050505050565b6000610565338686610967565b905060006002805461271061057a9190611286565b6105849190611264565b905060006002546127106105989190611286565b826105a53461271061124d565b6105af9190611286565b6105b99190611264565b9050600060405180604001604052808381526020016000815250905061061a898588888080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250879250339150610a799050565b50505050505050505050565b61062e6108bd565b60405163ca5eb5e160e01b81526001600160a01b0382811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063ca5eb5e190602401600060405180830381600087803b15801561069157600080fd5b505af11580156106a5573d6000803e3d6000fd5b5050505050565b6106b46108bd565b6001600160a01b0381166107195760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016103b9565b61072281610917565b50565b61072d6108bd565b6000826001600160a01b03168260405160006040518083038185875af1925050503d806000811461077a576040519150601f19603f3d011682016040523d82523d6000602084013e61077f565b606091505b50509050806107a157604051631d42c86760e21b815260040160405180910390fd5b505050565b60006020820180359060019083906107be908661113d565b63ffffffff1663ffffffff1681526020019081526020016000205414806104b357503060208301356001600160a01b03161492915050565b63ffffffff81166000908152600160205260408120541561082a575063ffffffff1660009081526001602052604090205490565b306104b3565b60008061083d8787610b84565b91509150600080836001600160a01b03168360405161085c91906112bd565b6000604051808303816000865af19150503d8060008114610899576040519150601f19603f3d011682016040523d82523d6000602084013e61089e565b606091505b5091509150816108b057805160208201fd5b5050505050505050505050565b6000546001600160a01b031633146104ae5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016103b9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b606083838360405160200161097e939291906112d9565b60405160208183030381529060405290509392505050565b60408051808201909152600080825260208201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663ddc28c586040518060a001604052808863ffffffff1681526020016109f9896107f6565b8152602001878152602001868152602001851515815250306040518363ffffffff1660e01b8152600401610a2e929190611345565b6040805180830381865afa158015610a4a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a6e9190611454565b90505b949350505050565b610a81610ef7565b6000610a908460000151610ba0565b602085015190915015610aaa57610aaa8460200151610bc9565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316632637a450826040518060a001604052808b63ffffffff168152602001610afa8c6107f6565b81526020018a815260200189815260200160008960200151111515815250866040518463ffffffff1660e01b8152600401610b36929190611345565b60806040518083038185885af1158015610b54573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190610b799190611470565b979650505050505050565b60006060610b94838501856114e2565b915091505b9250929050565b600081341015610bc5576040516304fb820960e51b81523460048201526024016103b9565b5090565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663e4fe1d946040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c29573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c4d919061158a565b90506001600160a01b038116610c76576040516329b99a9560e11b815260040160405180910390fd5b610cab6001600160a01b038216337f000000000000000000000000000000000000000000000000000000000000000085610caf565b5050565b604080516001600160a01b0385811660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b179052610d09908590610d0f565b50505050565b6000610d64826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610de49092919063ffffffff16565b9050805160001480610d85575080806020019051810190610d8591906115a7565b6107a15760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b60648201526084016103b9565b6060610a71848460008585600080866001600160a01b03168587604051610e0b91906112bd565b60006040518083038185875af1925050503d8060008114610e48576040519150601f19603f3d011682016040523d82523d6000602084013e610e4d565b606091505b5091509150610b798783838760608315610ec8578251600003610ec1576001600160a01b0385163b610ec15760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016103b9565b5081610a71565b610a718383815115610edd5781518083602001fd5b8060405162461bcd60e51b81526004016103b991906115c9565b604051806060016040528060008019168152602001600067ffffffffffffffff168152602001610f3a604051806040016040528060008152602001600081525090565b905290565b600060608284031215610f5157600080fd5b50919050565b60008083601f840112610f6957600080fd5b50813567ffffffffffffffff811115610f8157600080fd5b602083019150836020828501011115610b9957600080fd5b6001600160a01b038116811461072257600080fd5b600080600080600080600060e0888a031215610fc957600080fd5b610fd38989610f3f565b965060608801359550608088013567ffffffffffffffff80821115610ff757600080fd5b6110038b838c01610f57565b909750955060a08a0135915061101882610f99565b90935060c0890135908082111561102e57600080fd5b5061103b8a828b01610f57565b989b979a50959850939692959293505050565b803563ffffffff8116811461106257600080fd5b919050565b6000806040838503121561107a57600080fd5b6110838361104e565b946020939093013593505050565b6000602082840312156110a357600080fd5b5035919050565b600080600080600080608087890312156110c357600080fd5b6110cc8761104e565b955060208701356110dc81610f99565b9450604087013567ffffffffffffffff808211156110f957600080fd5b6111058a838b01610f57565b9096509450606089013591508082111561111e57600080fd5b5061112b89828a01610f57565b979a9699509497509295939492505050565b60006020828403121561114f57600080fd5b6111588261104e565b9392505050565b60008060008060006060868803121561117757600080fd5b6111808661104e565b9450602086013567ffffffffffffffff8082111561119d57600080fd5b6111a989838a01610f57565b909650945060408801359150808211156111c257600080fd5b506111cf88828901610f57565b969995985093965092949392505050565b6000602082840312156111f257600080fd5b813561115881610f99565b6000806040838503121561121057600080fd5b823561108381610f99565b60006060828403121561122d57600080fd5b6111588383610f3f565b634e487b7160e01b600052601160045260246000fd5b80820281158282048414176104b3576104b3611237565b60008261128157634e487b7160e01b600052601260045260246000fd5b500490565b808201808211156104b3576104b3611237565b60005b838110156112b457818101518382015260200161129c565b50506000910152565b600082516112cf818460208701611299565b9190910192915050565b6001600160a01b03841681526040602082018190528101829052818360608301376000818301606090810191909152601f909201601f1916010192915050565b60008151808452611331816020860160208601611299565b601f01601f19169290920160200192915050565b6040815263ffffffff8351166040820152602083015160608201526000604084015160a0608084015261137b60e0840182611319565b90506060850151603f198483030160a08501526113988282611319565b60809690960151151560c08501525050506001600160a01b039190911660209091015290565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff811182821017156113fd576113fd6113be565b604052919050565b60006040828403121561141757600080fd5b6040516040810181811067ffffffffffffffff8211171561143a5761143a6113be565b604052825181526020928301519281019290925250919050565b60006040828403121561146657600080fd5b6111588383611405565b60006080828403121561148257600080fd5b6040516060810167ffffffffffffffff82821081831117156114a6576114a66113be565b81604052845183526020850151915080821682146114c357600080fd5b5060208201526114d68460408501611405565b60408201529392505050565b600080604083850312156114f557600080fd5b823561150081610f99565b915060208381013567ffffffffffffffff8082111561151e57600080fd5b818601915086601f83011261153257600080fd5b813581811115611544576115446113be565b611556601f8201601f191685016113d4565b9150808252878482850101111561156c57600080fd5b80848401858401376000848284010152508093505050509250929050565b60006020828403121561159c57600080fd5b815161115881610f99565b6000602082840312156115b957600080fd5b8151801515811461115857600080fd5b602081526000611158602083018461131956fea26469706673582212205cc56d6821b79299b93e403e22c1fee3d6320aa7610ebd7c3f32d86a0b07989f64736f6c634300081400330000000000000000000000001a44076050125825900e736c501f859c50fe728c000000000000000000000000781b6a527482828bb04f33563797d4b696ddf328",
    },
    testnetDeployTx: {
      to: "0x4e59b44847b379578588920ca78fbf26c0b4956c",
      data: "0x655165516551655165516551655165516551655165516551655165516551655160a06040526101f46002553480156200001757600080fd5b50604051620017f2380380620017f28339810160408190526200003a9162000162565b818181816200004933620000f5565b6001600160a01b0380831660805281166200007757604051632d618d8160e21b815260040160405180910390fd5b60805160405163ca5eb5e160e01b81526001600160a01b0383811660048301529091169063ca5eb5e190602401600060405180830381600087803b158015620000bf57600080fd5b505af1158015620000d4573d6000803e3d6000fd5b5050505050505050620000ed81620000f560201b60201c565b50506200019a565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80516001600160a01b03811681146200015d57600080fd5b919050565b600080604083850312156200017657600080fd5b620001818362000145565b9150620001916020840162000145565b90509250929050565b608051611612620001e060003960008181610194015281816103740152818161064d015281816109ac01528181610aac01528181610bcd0152610c8601526116126000f3fe6080604052600436106100fe5760003560e01c80638da5cb5b11610095578063bf20df4211610064578063bf20df42146102cf578063ca5eb5e1146102e2578063f2fde38b14610302578063f3fef3a314610322578063ff7bd03d1461034257600080fd5b80638da5cb5b1461023c578063995f12921461025a578063b92d0eff1461028f578063bb0b6a53146102a257600080fd5b80635e280f11116100d15780635e280f111461018257806369fe0e2d146101ce578063715018a6146101ee5780637d25a05e1461020357600080fd5b806313137d651461010357806317442b701461011857806324a9d8531461013e5780633400288b14610162575b600080fd5b610116610111366004610fae565b610372565b005b34801561012457600080fd5b506040805160018082526020820152015b60405180910390f35b34801561014a57600080fd5b5061015460025481565b604051908152602001610135565b34801561016e57600080fd5b5061011661017d366004611067565b610432565b34801561018e57600080fd5b506101b67f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b039091168152602001610135565b3480156101da57600080fd5b506101166101e9366004611091565b61048f565b3480156101fa57600080fd5b5061011661049c565b34801561020f57600080fd5b5061022361021e366004611067565b6104b0565b60405167ffffffffffffffff9091168152602001610135565b34801561024857600080fd5b506000546001600160a01b03166101b6565b34801561026657600080fd5b5061027a6102753660046110aa565b6104b9565b60408051928352602083019190915201610135565b34801561029b57600080fd5b50306101b6565b3480156102ae57600080fd5b506101546102bd36600461113d565b60016020526000908152604090205481565b6101166102dd36600461115f565b610558565b3480156102ee57600080fd5b506101166102fd3660046111e0565b610626565b34801561030e57600080fd5b5061011661031d3660046111e0565b6106ac565b34801561032e57600080fd5b5061011661033d3660046111fd565b610725565b34801561034e57600080fd5b5061036261035d36600461121b565b6107a6565b6040519015158152602001610135565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031633146103c2576040516391ac5e4f60e01b81523360048201526024015b60405180910390fd5b602087018035906103dc906103d7908a61113d565b6107f6565b1461041a576103ee602088018861113d565b60405163309afaf360e21b815263ffffffff9091166004820152602088013560248201526044016103b9565b61042987878787878787610830565b50505050505050565b61043a6108bd565b63ffffffff8216600081815260016020908152604091829020849055815192835282018390527f238399d427b947898edb290f5ff0f9109849b1c3ba196a42e35f00c50a54b98b910160405180910390a15050565b6104976108bd565b600255565b6104a46108bd565b6104ae6000610917565b565b60005b92915050565b60008060006104c9888888610967565b9050600061050e8a8388888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509250610996915050565b905060006127106002548360000151610527919061124d565b6105319190611264565b8251909150610541908290611286565b826020015194509450505050965096945050505050565b6000610565338686610967565b905060006002805461271061057a9190611286565b6105849190611264565b905060006002546127106105989190611286565b826105a53461271061124d565b6105af9190611286565b6105b99190611264565b9050600060405180604001604052808381526020016000815250905061061a898588888080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250879250339150610a799050565b50505050505050505050565b61062e6108bd565b60405163ca5eb5e160e01b81526001600160a01b0382811660048301527f0000000000000000000000000000000000000000000000000000000000000000169063ca5eb5e190602401600060405180830381600087803b15801561069157600080fd5b505af11580156106a5573d6000803e3d6000fd5b5050505050565b6106b46108bd565b6001600160a01b0381166107195760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016103b9565b61072281610917565b50565b61072d6108bd565b6000826001600160a01b03168260405160006040518083038185875af1925050503d806000811461077a576040519150601f19603f3d011682016040523d82523d6000602084013e61077f565b606091505b50509050806107a157604051631d42c86760e21b815260040160405180910390fd5b505050565b60006020820180359060019083906107be908661113d565b63ffffffff1663ffffffff1681526020019081526020016000205414806104b357503060208301356001600160a01b03161492915050565b63ffffffff81166000908152600160205260408120541561082a575063ffffffff1660009081526001602052604090205490565b306104b3565b60008061083d8787610b84565b91509150600080836001600160a01b03168360405161085c91906112bd565b6000604051808303816000865af19150503d8060008114610899576040519150601f19603f3d011682016040523d82523d6000602084013e61089e565b606091505b5091509150816108b057805160208201fd5b5050505050505050505050565b6000546001600160a01b031633146104ae5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016103b9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b606083838360405160200161097e939291906112d9565b60405160208183030381529060405290509392505050565b60408051808201909152600080825260208201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663ddc28c586040518060a001604052808863ffffffff1681526020016109f9896107f6565b8152602001878152602001868152602001851515815250306040518363ffffffff1660e01b8152600401610a2e929190611345565b6040805180830381865afa158015610a4a573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a6e9190611454565b90505b949350505050565b610a81610ef7565b6000610a908460000151610ba0565b602085015190915015610aaa57610aaa8460200151610bc9565b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316632637a450826040518060a001604052808b63ffffffff168152602001610afa8c6107f6565b81526020018a815260200189815260200160008960200151111515815250866040518463ffffffff1660e01b8152600401610b36929190611345565b60806040518083038185885af1158015610b54573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190610b799190611470565b979650505050505050565b60006060610b94838501856114e2565b915091505b9250929050565b600081341015610bc5576040516304fb820960e51b81523460048201526024016103b9565b5090565b60007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663e4fe1d946040518163ffffffff1660e01b8152600401602060405180830381865afa158015610c29573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c4d919061158a565b90506001600160a01b038116610c76576040516329b99a9560e11b815260040160405180910390fd5b610cab6001600160a01b038216337f000000000000000000000000000000000000000000000000000000000000000085610caf565b5050565b604080516001600160a01b0385811660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b179052610d09908590610d0f565b50505050565b6000610d64826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610de49092919063ffffffff16565b9050805160001480610d85575080806020019051810190610d8591906115a7565b6107a15760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b60648201526084016103b9565b6060610a71848460008585600080866001600160a01b03168587604051610e0b91906112bd565b60006040518083038185875af1925050503d8060008114610e48576040519150601f19603f3d011682016040523d82523d6000602084013e610e4d565b606091505b5091509150610b798783838760608315610ec8578251600003610ec1576001600160a01b0385163b610ec15760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060448201526064016103b9565b5081610a71565b610a718383815115610edd5781518083602001fd5b8060405162461bcd60e51b81526004016103b991906115c9565b604051806060016040528060008019168152602001600067ffffffffffffffff168152602001610f3a604051806040016040528060008152602001600081525090565b905290565b600060608284031215610f5157600080fd5b50919050565b60008083601f840112610f6957600080fd5b50813567ffffffffffffffff811115610f8157600080fd5b602083019150836020828501011115610b9957600080fd5b6001600160a01b038116811461072257600080fd5b600080600080600080600060e0888a031215610fc957600080fd5b610fd38989610f3f565b965060608801359550608088013567ffffffffffffffff80821115610ff757600080fd5b6110038b838c01610f57565b909750955060a08a0135915061101882610f99565b90935060c0890135908082111561102e57600080fd5b5061103b8a828b01610f57565b989b979a50959850939692959293505050565b803563ffffffff8116811461106257600080fd5b919050565b6000806040838503121561107a57600080fd5b6110838361104e565b946020939093013593505050565b6000602082840312156110a357600080fd5b5035919050565b600080600080600080608087890312156110c357600080fd5b6110cc8761104e565b955060208701356110dc81610f99565b9450604087013567ffffffffffffffff808211156110f957600080fd5b6111058a838b01610f57565b9096509450606089013591508082111561111e57600080fd5b5061112b89828a01610f57565b979a9699509497509295939492505050565b60006020828403121561114f57600080fd5b6111588261104e565b9392505050565b60008060008060006060868803121561117757600080fd5b6111808661104e565b9450602086013567ffffffffffffffff8082111561119d57600080fd5b6111a989838a01610f57565b909650945060408801359150808211156111c257600080fd5b506111cf88828901610f57565b969995985093965092949392505050565b6000602082840312156111f257600080fd5b813561115881610f99565b6000806040838503121561121057600080fd5b823561108381610f99565b60006060828403121561122d57600080fd5b6111588383610f3f565b634e487b7160e01b600052601160045260246000fd5b80820281158282048414176104b3576104b3611237565b60008261128157634e487b7160e01b600052601260045260246000fd5b500490565b808201808211156104b3576104b3611237565b60005b838110156112b457818101518382015260200161129c565b50506000910152565b600082516112cf818460208701611299565b9190910192915050565b6001600160a01b03841681526040602082018190528101829052818360608301376000818301606090810191909152601f909201601f1916010192915050565b60008151808452611331816020860160208601611299565b601f01601f19169290920160200192915050565b6040815263ffffffff8351166040820152602083015160608201526000604084015160a0608084015261137b60e0840182611319565b90506060850151603f198483030160a08501526113988282611319565b60809690960151151560c08501525050506001600160a01b039190911660209091015290565b634e487b7160e01b600052604160045260246000fd5b604051601f8201601f1916810167ffffffffffffffff811182821017156113fd576113fd6113be565b604052919050565b60006040828403121561141757600080fd5b6040516040810181811067ffffffffffffffff8211171561143a5761143a6113be565b604052825181526020928301519281019290925250919050565b60006040828403121561146657600080fd5b6111588383611405565b60006080828403121561148257600080fd5b6040516060810167ffffffffffffffff82821081831117156114a6576114a66113be565b81604052845183526020850151915080821682146114c357600080fd5b5060208201526114d68460408501611405565b60408201529392505050565b600080604083850312156114f557600080fd5b823561150081610f99565b915060208381013567ffffffffffffffff8082111561151e57600080fd5b818601915086601f83011261153257600080fd5b813581811115611544576115446113be565b611556601f8201601f191685016113d4565b9150808252878482850101111561156c57600080fd5b80848401858401376000848284010152508093505050509250929050565b60006020828403121561159c57600080fd5b815161115881610f99565b6000602082840312156115b957600080fd5b8151801515811461115857600080fd5b602081526000611158602083018461131956fea26469706673582212205cc56d6821b79299b93e403e22c1fee3d6320aa7610ebd7c3f32d86a0b07989f64736f6c634300081400330000000000000000000000006edce65403992e310a62460808c4b910d972f10f000000000000000000000000781b6a527482828bb04f33563797d4b696ddf328",
    },
  },
];

function ContractRow({
  name,
  address,
  testnetAddress,
  deployTx,
  testnetDeployTx,
}: ContractToDeploy) {
  const chainId = useChainId();
  const publicClient = usePublicClient();
  const { chain } = useAccount();

  let contractToDeploy = address;
  if (chain?.testnet == true && testnetAddress !== undefined) {
    contractToDeploy = testnetAddress;
  }
  let deploymentTx = deployTx;
  if (chain?.testnet == true && testnetDeployTx !== undefined) {
    deploymentTx = testnetDeployTx;
  }

  const { data: contractBytecode } = useQuery({
    queryKey: [chainId, name],
    queryFn: async () =>
      publicClient?.getBytecode({
        address: contractToDeploy!,
      }),
  });
  const contractDeployed = contractBytecode !== undefined;
  const { sendTransaction } = useSendTransaction();

  return (
    <TableRow>
      <TableCell>{name}</TableCell>
      <TableCell>{contractToDeploy}</TableCell>
      <TableCell>
        {contractDeployed ? (
          <span className="flex items-center">
            <CircleCheck className="mr-2 stroke-green-500" /> Deployed
          </span>
        ) : deployTx !== undefined ? (
          <Button
            onClick={() => {
              console.log(deploymentTx);
              if (deploymentTx) {
                sendTransaction({ ...deploymentTx });
              }
            }}
          >
            Deploy
          </Button>
        ) : (
          "Not Deployed"
        )}
      </TableCell>
    </TableRow>
  );
}

const formSchema = z.object({
  name: z.string(),
  chainId: z.string().refine(
    (v) => {
      let n = Number(v);
      return !isNaN(n) && v?.length > 0;
    },
    { message: "Invalid number" },
  ),
  rpcUrl: z.string(),
});

function App() {
  const { addChain } = useContext(ConfigContext);

  const form = useForm<z.infer<typeof formSchema>>({
    resolver: zodResolver(formSchema),
    defaultValues: {
      name: "",
      rpcUrl: "",
    },
  });

  function onSubmit(values: z.infer<typeof formSchema>) {
    // Do something with the form values.
    //  This will be type-safe and validated.
    console.log(values);

    addChain({
      name: values.name,
      chainId: Number(values.chainId),
      rpcUrl: values.rpcUrl,
    });
  }
  return (
    <>
      <Dialog>
        <div>
          <div className="container">
            <div className="flex flex-col items-center justify-center mb-8">
              <h2 className="my-6 text-3xl font-bold">Tokenbound Deployer</h2>
              <ConnectButton />
              <div className="flex flex-row mt-2 text-sm">
                Don't see the chain you're looking for?
                <DialogTrigger className="ml-1 underline">
                  Add a chain
                </DialogTrigger>
              </div>
            </div>
            <Table>
              <TableHeader>
                <TableRow>
                  <TableHead>Contract</TableHead>
                  <TableHead>Address</TableHead>
                  <TableHead>Status</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {CONTRACTS.map((contract) => (
                  <ContractRow {...contract} />
                ))}
              </TableBody>
            </Table>
          </div>
          <DialogContent>
            <DialogHeader>
              <DialogTitle className="mb-6">Add a Custom Chain</DialogTitle>
              <DialogDescription>
                <Form {...form}>
                  <form
                    onSubmit={form.handleSubmit(onSubmit)}
                    className="space-y-8"
                  >
                    <FormField
                      control={form.control}
                      name="name"
                      render={({ field }) => (
                        <FormItem>
                          <FormLabel>Name</FormLabel>
                          <FormControl>
                            <Input placeholder="Ethereum" {...field} />
                          </FormControl>
                          <FormMessage />
                        </FormItem>
                      )}
                    />
                    <FormField
                      control={form.control}
                      name="chainId"
                      render={({ field }) => (
                        <FormItem>
                          <FormLabel>Chain ID</FormLabel>
                          <FormControl>
                            <Input placeholder="12345" {...field} />
                          </FormControl>
                          <FormMessage />
                        </FormItem>
                      )}
                    />
                    <FormField
                      control={form.control}
                      name="rpcUrl"
                      render={({ field }) => (
                        <FormItem>
                          <FormLabel>RPC URL</FormLabel>
                          <FormControl>
                            <Input
                              placeholder="https://rpc.yourchain.com"
                              {...field}
                            />
                          </FormControl>
                          <FormMessage />
                        </FormItem>
                      )}
                    />
                    <DialogClose asChild>
                      <Button type="submit">Add Chain</Button>
                    </DialogClose>
                  </form>
                </Form>
              </DialogDescription>
            </DialogHeader>
          </DialogContent>
        </div>
      </Dialog>
    </>
  );
}

export default App;
